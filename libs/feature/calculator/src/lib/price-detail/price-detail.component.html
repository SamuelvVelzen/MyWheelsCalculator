<div class="bg-primary text-light pt-3" #priceDetailsSection>
  <div class="px-3 pb-3 sm:px-5 sm:pb-5">
    <ng-container
      *ngTemplateOutlet="
        priceDetail;
        context: { details: priceDetailList(), depth: 0 }
      "
    ></ng-container>
  </div>
</div>

<ng-template #priceDetail let-details="details" let-depth="depth">
  @for (detail of details; track $index) { @if(!detail.hide) {
  <div class="flex justify-between flex-wrap">
    <span>{{ detail.label | translate }}</span>
    <span>
      @if(detail.value) {
      {{ detail.value }}
      } @else {
      {{ detail.totalCost | mwcCurrency }}
      }
    </span>

    @if(detail.children) {
    <div
      class="flex flex-col w-full"
      [ngStyle]="{ 'padding-left.px': depth + 1 * 10 }"
    >
      <ng-container
        *ngTemplateOutlet="
          priceDetail;
          context: { details: detail.children, depth: depth + 1 }
        "
      ></ng-container>
    </div>
    }
  </div>
  } }
</ng-template>
